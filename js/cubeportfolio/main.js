!function(e,t){"use strict";var i,o,l=e("#grid-container"),n=e("#filters-container");l.cubeportfolio({defaultFilter:"*",animationType:"fadeOutTop",gapHorizontal:0,gapVertical:0,gridAdjustment:"responsive",caption:"zoom",displayType:"lazyLoading",displayTypeSpeed:100,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageCallback:function(){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"above",singlePageInlineInFocus:!0,singlePageInlineCallback:function(){}}),n.hasClass("cbp-l-filters-dropdown")?(i=n.find(".cbp-l-filters-dropdownWrap"),i.on({"mouseover.cbp":function(){i.addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){i.removeClass("cbp-l-filters-dropdownWrap-open")}}),o=function(e){i.find(".cbp-filter-item").removeClass("cbp-filter-item-active"),i.find(".cbp-l-filters-dropdownHeader").text(e.text()),e.addClass("cbp-filter-item-active"),i.trigger("mouseleave.cbp")}):o=function(e){e.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},n.on("click.cbp",".cbp-filter-item",function(){var t=e(this);t.hasClass("cbp-filter-item-active")||(e.data(l[0],"cubeportfolio").isAnimating||o.call(null,t),l.cubeportfolio("filter",t.data("filter"),function(){}))}),l.cubeportfolio("showCounter",n.find(".cbp-filter-item"),function(){var e,t=/#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);null!==t&&(e=n.find(".cbp-filter-item").filter('[data-filter="'+t[1]+'"]'),e.length&&o.call(null,e))});var a={init:function(){var i=this;i.isActive=!1,i.numberOfClicks=0,i.loadMore=e(".cbp-l-loadMore-text-link"),i.window=e(t),i.addEvents(),i.getNewItems()},addEvents:function(){var e=this;e.window.on("scroll.loadMoreObject",function(){e.getNewItems()})},getNewItems:function(){var t,i,o=this;o.isActive||o.loadMore.hasClass("cbp-l-loadMore-text-stop")||(t=o.loadMore.offset().top,i=o.window.scrollTop()+o.window.height(),t>i||(o.isActive=!0,o.numberOfClicks++,e.ajax({url:o.loadMore.attr("data-href"),type:"GET",dataType:"HTML",cache:!0}).done(function(n){var a,c;a=e(n).filter(function(){return e(this).is("div.cbp-loadMore-block"+o.numberOfClicks)}),l.cubeportfolio("appendItems",a.html(),function(){c=e(n).filter(function(){return e(this).is("div.cbp-loadMore-block"+(o.numberOfClicks+1))}),0===c.length?(o.loadMore.text("NO MORE ENTRIES"),o.loadMore.addClass("cbp-l-loadMore-text-stop"),o.window.off("scroll.loadMoreObject")):(o.isActive=!1,t=o.loadMore.offset().top,i=o.window.scrollTop()+o.window.height(),i>=t&&o.getNewItems())})}).fail(function(){o.isActive=!1})))}},c=Object.create(a);l.on("initComplete",function(){c.init()}),l.on("filterComplete",function(){c.window.trigger("scroll.loadMoreObject")})}(jQuery,window,document);